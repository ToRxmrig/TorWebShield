# /etc/apache2/apache2.conf
# Global Apache configuration
ServerRoot "/etc/apache2"
Mutex file:${APACHE_LOCK_DIR} default
PidFile ${APACHE_PID_FILE}
Timeout 300
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 5

User www-data
Group www-data

# Logging
ErrorLog ${APACHE_LOG_DIR}/error.log
LogLevel warn

# Default settings
IncludeOptional conf-enabled/*.conf
IncludeOptional sites-enabled/*.conf

# Configuration for directory access and security
<Directory />
    Options FollowSymLinks
    AllowOverride None
    Require all denied
</Directory>

<Directory /var/www/>
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
</Directory>

<Directory /var/www/html/>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

# Set default document root
DocumentRoot /var/www/html
<Directory /var/www/html>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

# Default server configuration
<Directory "/var/www/html">
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

# File uploads configuration
<Directory /var/www/html/uploads>
    Options Indexes FollowSymLinks
    AllowOverride All
    Require all granted
</Directory>

# Set the ServerName for logs and any administrative tasks
ServerName localhost

# Include additional configurations
IncludeOptional conf-enabled/*.conf
IncludeOptional sites-enabled/*.conf
